<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the 
		Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, 
		software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. -->
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<artifactId>net.osgiliath.pom.reporting</artifactId>
		<groupId>net.osgiliath</groupId>
		<version>0.2.3</version>
		<relativePath>..</relativePath>
	</parent>
	<artifactId>net.osgiliath.pom.plugins</artifactId>
	<packaging>pom</packaging>
	<name>Pom plugins</name>
	<description>Plugins behaviour for the entire Osgiliath submodules</description>
	<build>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>com.btmatthews.maven.plugins.inmemdb</groupId>
					<artifactId>inmemdb-maven-plugin</artifactId>
					<version>${inmemdb-maven-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>com.googlecode.maven-download-plugin</groupId>
					<artifactId>maven-download-plugin</artifactId>
					<version>${com.googlecode.maven-download-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>com.mysema.maven</groupId>
					<artifactId>apt-maven-plugin</artifactId>
					<version>${com.mysema.maven_apt-maven-plugin.version}</version>
					<executions>
						<execution>
							<goals>
								<goal>process</goal>
							</goals>
							<configuration>
								<outputDirectory>target/generated-sources/metamodel</outputDirectory>
								<processor>org.apache.openjpa.persistence.meta.AnnotationProcessor6</processor>
								<options>
									<openjpa.source>8</openjpa.source>
									<openjpa.metamodel>true</openjpa.metamodel>
								</options>
							</configuration>
						</execution>
					</executions>
					<dependencies>
						<dependency>
							<groupId>org.apache.openjpa</groupId>
							<artifactId>openjpa</artifactId>
							<version>${openjpa.version}</version>
						</dependency>
					</dependencies>

				</plugin>
				<plugin>
					<groupId>org.apache.karaf.tooling</groupId>
					<artifactId>features-maven-plugin</artifactId>
					<version>${features-maven-plugin.version}</version>
					<executions>
						<execution>
							<id>generate</id>
							<phase>generate-resources</phase>
							<goals>
								<goal>generate-features-xml</goal>
							</goals>
							<configuration>
								<kernelVersion>${karaf.version}</kernelVersion>
								<outputFile>target/${project.artifactId}-${project.version}.xml</outputFile>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.apache.felix</groupId>
					<artifactId>maven-bundle-plugin</artifactId>
					<version>${maven-bundle-plugin.version}</version>
					<extensions>true</extensions>
					<executions>
						<execution>
							<id>bundle-manifest</id>
							<phase>process-classes</phase>
							<goals>
								<goal>manifest</goal>
							</goals>
						</execution>
					</executions>
					<configuration>
						<supportedProjectTypes>
							<supportedProjectType>jar</supportedProjectType>
							<supportedProjectType>bundle</supportedProjectType>
							<supportedProjectType>war</supportedProjectType>
						</supportedProjectTypes>
						<instructions>
							<_include>-osgi.bnd</_include>
							<Import-Package>!helper.exam, !*.itests.*</Import-Package>
						</instructions>
					</configuration>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-antrun-plugin</artifactId>
					<version>${maven-antrun-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-assembly-plugin</artifactId>
					<version>${org.apache.maven.plugins_maven-assembly-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-compiler-plugin</artifactId>
					<version>${maven-compiler-plugin.version}</version>
					<configuration>
						<source>${maven.compiler.source}</source>
						<target>${maven.compiler.target}</target>
						<encoding>${encoding}</encoding>
					</configuration>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-clean-plugin</artifactId>
					<version>${maven-clean-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-dependency-plugin</artifactId>
					<version>${maven-dependency-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-failsafe-plugin</artifactId>
					<version>${maven-failsafe-plugin.version}</version>
					<executions>
						<execution>
							<goals>
								<goal>integration-test</goal>
								<goal>verify</goal>
							</goals>
							<configuration>
								<skipITs>${failsafe.skiptests}</skipITs>
								<systemPropertyVariables>
									<reportFormat>xml</reportFormat>
									<jcoverage.command>${jcoverage.command}</jcoverage.command>
									<maven.user.settings>${maven.user.settings}</maven.user.settings>
									<maven.repos.urls>${maven.repos.urls}</maven.repos.urls>
									<maven.user.settings.default>${org.apache.maven.user-settings}</maven.user.settings.default>
									<maven.global.settings.default>${org.apache.maven.global-settings}</maven.global.settings.default>
									<project.groupId>${project.groupId}</project.groupId>
									<project.parent.artifactId>${project.parent.artifactId}</project.parent.artifactId>
									<project.artifactId>${project.artifactId}</project.artifactId>
								</systemPropertyVariables>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-install-plugin</artifactId>
					<version>${maven-install-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-jar-plugin</artifactId>
					<version>${maven-jar-plugin.version}</version>
					<configuration>
						<archive>
							<manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>
						</archive>
					</configuration>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-shade-plugin</artifactId>
					<version>${maven-shade-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-surefire-plugin</artifactId>
					<version>${maven-surefire-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-war-plugin</artifactId>
					<version>${maven-war-plugin.version}</version>
					<configuration>
						<dependentWarIncludes />
						<dependentWarExcludes>**</dependentWarExcludes>
						<archive>
							<manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>
						</archive>
						<packagingExcludes>WEB-INF/lib/**,WEB-INF/classes/**</packagingExcludes>
						<archive>
							<manifest>
								<addClasspath>true</addClasspath>
							</manifest>
						</archive>
					</configuration>
				</plugin>
				<plugin>
					<groupId>org.apache.openjpa</groupId>
					<artifactId>openjpa-maven-plugin</artifactId>
					<version>${openjpa.version}</version>
					<configuration>
						<includes>**/*Entity.class</includes>
						<persistenceXmlFile>${project.basedir}/src/main/resources/META-INF/persistence.xml</persistenceXmlFile>
						<addDefaultConstructor>true</addDefaultConstructor>
						<enforcePropertyRestrictions>false</enforcePropertyRestrictions>
					</configuration>
					<executions>
						<execution>
							<id>enhancer</id>
							<phase>process-classes</phase>
							<goals>
								<goal>enhance</goal>
							</goals>
						</execution>
					</executions>
					<dependencies>
						<dependency>
							<groupId>org.apache.openjpa</groupId>
							<artifactId>openjpa-all</artifactId>
							<version>${openjpa.version}</version>
						</dependency>
						<dependency>
							<groupId>xerces</groupId>
							<artifactId>xerces</artifactId>
							<version>${xerces.version}</version>
						</dependency>
					</dependencies>
				</plugin>
				<plugin>
					<groupId>org.apache.servicemix.tooling</groupId>
					<artifactId>depends-maven-plugin</artifactId>
					<version>${depends-maven-plugin.version}</version>
					<executions>
						<execution>
							<id>generate-depends-file</id>
							<goals>
								<goal>generate-depends-file</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>build-helper-maven-plugin</artifactId>
					<version>${build-helper-maven-plugin.version}</version>
					<executions>
						<execution>
							<id>add-test-source</id>
							<phase>generate-test-sources</phase>
							<goals>
								<goal>add-test-source</goal>
							</goals>
							<configuration>
								<sources>
									<source>src/it/java</source>
								</sources>
							</configuration>
						</execution>
						<execution>
							<id>add-test-resource</id>
							<phase>generate-test-resources</phase>
							<goals>
								<goal>add-test-resource</goal>
							</goals>
							<configuration>
								<resources>
									<resource>
										<directory>src/it/resources</directory>
									</resource>
								</resources>
							</configuration>
						</execution>
						<execution>
							<id>add-source</id>
							<phase>generate-sources</phase>
							<goals>
								<goal>add-source</goal>
							</goals>
							<configuration>
								<sources>
									<source>src/main/scala</source>
								</sources>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<!-- Set timestamp in a variable so it can be used for generated files by liquibase in different goals -->
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>buildnumber-maven-plugin</artifactId>
					<version>${buildnumber-maven-plugin.version}</version>
					<configuration>
						<timestampFormat>yyyyMMdd_HHmmss</timestampFormat>
					</configuration>
					<executions>
						<execution>
							<phase>validate</phase>
							<goals>
								<goal>create-timestamp</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>exec-maven-plugin</artifactId>
					<version>${exec-maven-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>jaxb2-maven-plugin</artifactId>
					<version>${jaxb2-maven-plugin.version}</version>
					<executions>
						<execution>
							<id>schemagen</id>
							<goals>
								<goal>schemagen</goal>
							</goals>
							<phase>generate-resources</phase>
						</execution>
					</executions>
					<configuration>
						<verbose>true</verbose>
						<transformSchemas>
							<transformSchema>
								<uri>http://${project.groupId}/${project.artifactId}/${project.version}</uri>
								<toPrefix>${project.artifactId}</toPrefix>
								<toFile>${project.artifactId}</toFile>
							</transformSchema>
						</transformSchemas>
						<includes>
							<include>**/model/**/*.java</include>
						</includes>
						<excludes>
							<exclude>**/Abstract*.java</exclude>
							<exclude>**/*Repository.java</exclude>
							<exclude>**/*Service.java</exclude>
							<exclude>**/*_.java</exclude>
						</excludes>
					</configuration>
				</plugin>

				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>selenium-maven-plugin</artifactId>
					<version>${selenium-maven-plugin.version}</version>
				</plugin>

				<plugin>
					<groupId>org.codehaus.mojo</groupId>
					<artifactId>wagon-maven-plugin</artifactId>
					<version>${wagon-maven-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.codehaus.plexus</groupId>
					<artifactId>plexus-component-metadata</artifactId>
					<version>${org.codehaus.plexus.version}</version>
					<executions>
						<execution>
							<goals>
								<goal>generate-metadata</goal>
							</goals>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>${lifecycle-mapping.version}</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>com.btmatthews.maven.plugins.inmemdb</groupId>
										<artifactId>inmemdb-maven-plugin</artifactId>
										<versionRange>
											[1.4.3,)
										</versionRange>
										<goals>
											<goal>run</goal>
											<goal>stop</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											com.googlecode.maven-download-plugin
										</groupId>
										<artifactId>
											maven-download-plugin
										</artifactId>
										<versionRange>
											[1.0.0,)
										</versionRange>
										<goals>
											<goal>wget</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.apache.felix</groupId>
										<artifactId>maven-bundle-plugin</artifactId>
										<versionRange>
											[2.3.7,)
										</versionRange>
										<goals>
											<goal>manifest</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.apache.maven.plugins
										</groupId>
										<artifactId>
											maven-antrun-plugin
										</artifactId>
										<versionRange>
											[1.4,)
										</versionRange>
										<goals>
											<goal>run</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.apache.maven.plugins
										</groupId>
										<artifactId>
											maven-dependency-plugin
										</artifactId>
										<versionRange>
											[2.4,)
										</versionRange>
										<goals>
											<goal>copy</goal>
											<goal>unpack</goal>
											<goal>copy-dependencies</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.apache.maven.plugins
										</groupId>
										<artifactId>
											maven-eclipse-plugin
										</artifactId>
										<versionRange>
											[2.9,)
										</versionRange>
										<goals>
											<goal>eclipse</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.apache.openjpa
										</groupId>
										<artifactId>
											openjpa-maven-plugin
										</artifactId>
										<versionRange>
											[2.2.0,)
										</versionRange>
										<goals>
											<goal>enhance</goal>
											<goal>sql</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<ignore />
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.apache.servicemix.tooling
										</groupId>
										<artifactId>
											depends-maven-plugin
										</artifactId>
										<versionRange>
											[1.2,)
										</versionRange>
										<goals>
											<goal>
												generate-depends-file
											</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											aspectj-maven-plugin
										</artifactId>
										<versionRange>
											[1.1,)
										</versionRange>
										<goals>
											<goal>compile</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>true</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											buildnumber-maven-plugin
										</artifactId>
										<versionRange>
											[1.3,)
										</versionRange>
										<goals>
											<goal>create-timestamp</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											build-helper-maven-plugin
										</artifactId>
										<versionRange>
											[1.8,)
										</versionRange>
										<goals>
											<goal>add-source</goal>
											<goal>add-test-source</goal>
											<goal>
												add-test-resource
											</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											exec-maven-plugin
										</artifactId>
										<versionRange>
											[1.2.1,)
										</versionRange>
										<goals>
											<goal>exec</goal>
											<goal>java</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											license-maven-plugin
										</artifactId>
										<versionRange>
											[1.5,)
										</versionRange>
										<goals>
											<goal>
												update-file-header
											</goal>
											<goal>
												update-project-license
											</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											properties-maven-plugin
										</artifactId>
										<versionRange>
											[1.0-alpha-2,)
										</versionRange>
										<goals>
											<goal>
												read-project-properties
											</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.codehaus.mojo
										</groupId>
										<artifactId>
											wagon-maven-plugin
										</artifactId>
										<versionRange>
											[1.0-beta-4,)
										</versionRange>
										<goals>
											<goal>download-single</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.codehaus.plexus</groupId>
										<artifactId>plexus-component-metadata</artifactId>
										<versionRange>
											[1.5.5,)
										</versionRange>
										<goals>
											<goal>generate-metadata</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.jacoco</groupId>
										<artifactId>
											jacoco-maven-plugin
										</artifactId>
										<versionRange>
											[0.6.2.201302030002,)
										</versionRange>
										<goals>
											<goal>prepare-agent</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											org.ops4j.pax.exam
										</groupId>
										<artifactId>
											maven-paxexam-plugin
										</artifactId>
										<versionRange>
											[1.2.4,)
										</versionRange>
										<goals>
											<goal>generate-config</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.projectlombok</groupId>
										<artifactId>
											lombok-maven-plugin
										</artifactId>
										<versionRange>[0.11,2.0)</versionRange>
										<goals>
											<goal>delombok</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.scala-tools</groupId>
										<artifactId>maven-scala-plugin</artifactId>
										<versionRange>
											[2,)
										</versionRange>
										<goals>
											<goal>compile</goal>
											<goal>testCompile</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.scala-tools</groupId>
										<artifactId>maven-scala-plugin</artifactId>
										<versionRange>
											[2,)
										</versionRange>
										<goals>
											<goal>add-source</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.codehaus.gmavenplus</groupId>
										<artifactId>gmavenplus-plugin</artifactId>
										<versionRange>[1.2,)</versionRange>
										<goals>
											<goal>execute</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.apache.maven.plugins</groupId>
										<artifactId>maven-enforcer-plugin</artifactId>
										<versionRange>[1.2,)</versionRange>
										<goals>
											<goal>enforce</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>org.jvnet.jaxb2.maven2</groupId>
										<artifactId>maven-jaxb2-plugin</artifactId>
										<versionRange>[0.8.0,)</versionRange>
										<goals>
											<goal>generate</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>false</runOnIncremental>
										</execute>
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
				<plugin>
					<groupId>org.jacoco</groupId>
					<artifactId>jacoco-maven-plugin</artifactId>
					<version>${jacoco.plugin.version}</version>
					<inherited>true</inherited>
					<executions>
						<execution>
							<id>pre-test</id>
							<goals>
								<goal>prepare-agent</goal>
							</goals>
							<phase>process-sources</phase>
							<configuration>
								<skip>${jacoco-coverage-skip}</skip>
								<destFile>${sonar.jacoco.reportPath}</destFile>
								<includes>
									<include>${project.artifactId}.*</include>
								</includes>
								<excludes>
									<exclude>*.itests.*</exclude>
									<exclude>*.mock.*</exclude>
									<exclude>*.coverage.*</exclude>
								</excludes>
							</configuration>
						</execution>
						<execution>
							<id>report-test</id>
							<goals>
								<goal>report</goal>
							</goals>
							<configuration>
								<dataFile>${sonar.jacoco.reportPath}</dataFile>
							</configuration>
						</execution>
						<execution>
							<id>pre-integration-test</id>
							<goals>
								<goal>prepare-agent-integration</goal>
							</goals>
							<phase>pre-integration-test</phase>
							<configuration>
								<skip>${jacoco-coverage-skip}</skip>
								<propertyName>jcoverage.command</propertyName>
								<destFile>${sonar.jacoco.itReportPath}</destFile>
								<excludes>
									<exclude>*.itests.*</exclude>
									<exclude>*.mock.*</exclude>
									<exclude>*.coverage.*</exclude>
								</excludes>
								<append>true</append>
							</configuration>
						</execution>
						<execution>
							<id>report-integration</id>
							<goals>
								<goal>report-integration</goal>
							</goals>
							<configuration>
								<dataFile>${sonar.jacoco.itReportPath}</dataFile>
							</configuration>
						</execution>
					</executions>
				</plugin>
				<plugin>
					<groupId>org.liquibase</groupId>
					<artifactId>liquibase-maven-plugin</artifactId>
					<version>${liquibase.version}</version>
				</plugin>
				<plugin>
					<groupId>org.ops4j</groupId>
					<artifactId>maven-pax-plugin</artifactId>
					<version>${maven-pax-plugin.version}</version>
				</plugin>
				<plugin>
					<groupId>org.ops4j.pax.exam</groupId>
					<artifactId>exam-maven-plugin</artifactId>
					<version>${org.ops4j.pax.exam.version}</version>
				</plugin>
				<plugin>
					<groupId>org.projectlombok</groupId>
					<artifactId>lombok-maven-plugin</artifactId>
					<version>${org.projectlombok.lombok.plugin.version}</version>
					<executions>
						<execution>
							<phase>generate-sources</phase>
							<goals>
								<goal>delombok</goal>
							</goals>
						</execution>
					</executions>
					<configuration>
						<encoding>${project.build.sourceEncoding}</encoding>
						<addOutputDirectory>false</addOutputDirectory>
						<sourceDirectory>src/main/java</sourceDirectory>
					</configuration>
				</plugin><!--This plugin's configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself. -->
				<plugin>
					<groupId>org.scala-tools</groupId>
					<artifactId>maven-scala-plugin</artifactId>
					<version>${maven-scala-plugin.version}</version>
					<executions>
						<execution>
							<id>compile-scala</id>
							<phase>process-resources</phase>
							<goals>
								<goal>add-source</goal>
								<goal>compile</goal>
							</goals>
						</execution>
						<execution>
							<id>process-tests</id>
							<phase>process-test-resources</phase>
							<goals>
								<goal>testCompile</goal>
							</goals>
						</execution>
					</executions>
					<configuration>
						<encoding>${encoding}</encoding>
						<jvmArgs>
							<jvmArg>-Xms64m</jvmArg>
							<jvmArg>-Xmx1024m</jvmArg>
							<jvmArg>-Dfile.encoding=${encoding}</jvmArg>
						</jvmArgs>
						<args>
							<arg>-target:jvm-1.6</arg>
							<arg>-deprecation</arg>
							<arg>-unchecked</arg>
							<arg>-uniqid</arg>
							<arg>-no-specialization</arg>
							<arg>-encoding</arg>
							<arg>${encoding}</arg>
							<arg>-feature</arg>
							<!-- prints a message when a method is generated that uses Reflection -->
							<arg>-Xlog-reflective-calls</arg>
							<arg>-Ywarn-adapted-args</arg>
						</args>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>
	<profiles>
		<profile>
			<id>env-dev</id>
			<build>
				<pluginManagement>
					<plugins>
						<plugin>
							<groupId>org.apache.karaf.tooling</groupId>
							<artifactId>features-maven-plugin</artifactId>
							<executions>
								<execution>
									<id>create-kar</id>
									<goals>
										<goal>create-kar</goal>
									</goals>
									<phase>install</phase>
									<configuration>
										<featuresFile>${project.build.directory}/classes/${project.artifactId}.xml</featuresFile>
									</configuration>
								</execution>
							</executions>
						</plugin>
					</plugins>
				</pluginManagement>
			</build>
		</profile>
		<profile>
			<id>lombok-needs-tools-jar</id>
			<activation>
				<file>
					<exists>${java.home}/lib/tools.jar</exists>
				</file>
			</activation>
			<build>
				<pluginManagement>
					<plugins>
						<plugin>
							<groupId>org.projectlombok</groupId>
							<artifactId>lombok-maven-plugin</artifactId>
							<dependencies>
								<dependency>
									<groupId>com.sun</groupId>
									<artifactId>tools</artifactId>
									<version>${maven.compiler.source}</version>
									<scope>system</scope>
									<systemPath>${java.home}/lib/tools.jar</systemPath>
								</dependency>
							</dependencies>
						</plugin>
					</plugins>
				</pluginManagement>
			</build>
			<properties>
				<tools-jar.location>${java.home}/lib/tools.jar</tools-jar.location>
			</properties>
		</profile>
		<profile>
			<id>lombok-needs-tools-jar-jre</id>
			<activation>
				<file>
					<exists>${java.home}/../lib/tools.jar</exists>
				</file>
			</activation>
			<build>
				<pluginManagement>
					<plugins>
						<plugin>
							<groupId>org.projectlombok</groupId>
							<artifactId>lombok-maven-plugin</artifactId>
							<dependencies>
								<dependency>
									<groupId>com.sun</groupId>
									<artifactId>tools</artifactId>
									<version>${maven.compiler.source}</version>
									<scope>system</scope>
									<systemPath>${java.home}/../lib/tools.jar</systemPath>
								</dependency>
							</dependencies>
						</plugin>
					</plugins>
				</pluginManagement>
			</build>
			<properties>
				<tools-jar.location>${java.home}/../lib/tools.jar</tools-jar.location>
			</properties>
		</profile>
		<profile>
			<id>db-diff</id>
			<build>
				<pluginManagement>
					<plugins>
						<plugin>
							<groupId>org.apache.openjpa</groupId>
							<artifactId>openjpa-maven-plugin</artifactId>
							<executions>
								<execution>
									<id>gen-sql</id>
									<goals>
										<goal>sql</goal>
									</goals>
									<phase>process-classes</phase>
									<configuration>
										<sqlAction>build</sqlAction>
										<sqlFile>${project.build.directory}/${project.artifactId}.sql</sqlFile>
									</configuration>
								</execution>
							</executions>
						</plugin>
						<plugin>
							<groupId>com.btmatthews.maven.plugins.inmemdb</groupId>
							<artifactId>inmemdb-maven-plugin</artifactId>
							<configuration>
								<monitorPort>${inmemdb-maven-plugin.monitor-port}</monitorPort>
								<monitorKey>mmemory</monitorKey>
								<type>derby</type>
								<database>${project.parent.artifactId}.database</database>
								<username>${jdbc.username}</username>
								<password>${jdbc.password}</password>
								<monitorRetryInterval>${inmemdb-maven-plugin.monitorRetryInterval}</monitorRetryInterval>
							</configuration>
							<executions>
								<execution>
									<id>start-inmemdb</id>
									<phase>generate-test-sources</phase>
									<goals>
										<goal>run</goal>
									</goals>
									<configuration>
										<daemon>true</daemon>
										<sources>
											<script>
												<sourceFile>${project.build.directory}/${project.artifactId}.sql</sourceFile>
											</script>
										</sources>
									</configuration>
								</execution>
								<execution>
									<id>stop-inmemdb</id>
									<phase>prepare-package</phase>
									<goals>
										<goal>stop</goal>
									</goals>
								</execution>
							</executions>
							<dependencies>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.clientArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.networkArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.serverArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>org.hsqldb</groupId>
									<artifactId>hsqldb</artifactId>
									<version>${org.hsqldb_hsqldb.version}</version>
								</dependency>
							</dependencies>
						</plugin>

						<plugin>
							<groupId>org.liquibase</groupId>
							<artifactId>liquibase-maven-plugin</artifactId>
							<configuration>
								<propertyFile>${project.build.directory}/classes/liquibase-diff.properties</propertyFile>
								<changeLogFile>../${project.parent.artifactId}.database/src/main/resources/db.changelog.xml</changeLogFile>
								<diffChangeLogFile>../${project.parent.artifactId}.database/src/main/resources/db/db-${timestamp}.changelog.xml</diffChangeLogFile>
								<logging>info</logging>
							</configuration>
							<executions>
								<execution>
									<id>generate-db-diff</id>
									<phase>process-test-resources</phase>
									<goals>
										<goal>diff</goal>
									</goals>
								</execution>
							</executions>
							<dependencies>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.clientArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.networkArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.serverArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.clientArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.networkArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.serverArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
							</dependencies>
						</plugin>
					</plugins>
				</pluginManagement>
			</build>
		</profile>
		<!-- ============================================================================================ -->
		<!-- Generate database data changelog for liquibase (run previously mvn -Pprod test-compile if you want to generate changelog for production data) -->
		<!-- ============================================================================================ -->
		<profile>
			<id>db-data</id>
			<build>
				<pluginManagement>
					<plugins>
						<plugin>
							<groupId>org.apache.openjpa</groupId>
							<artifactId>openjpa-maven-plugin</artifactId>
							<executions>
								<execution>
									<id>gen-sql</id>
									<goals>
										<goal>sql</goal>
									</goals>
									<phase>process-classes</phase>
									<configuration>
										<sqlAction>build</sqlAction>
										<sqlFile>${project.build.directory}/${project.artifactId}.sql</sqlFile>
									</configuration>
								</execution>
							</executions>
						</plugin>
						<plugin>
							<groupId>com.btmatthews.maven.plugins.inmemdb</groupId>
							<artifactId>inmemdb-maven-plugin</artifactId>
							<configuration>
								<monitorPort>${inmemdb-maven-plugin.monitor-port}</monitorPort>
								<monitorKey>mmemory</monitorKey>
								<type>derby</type>
								<database>${project.parent.artifactId}.database</database>
								<username>${jdbc.username}</username>
								<password>${jdbc.password}</password>
								<monitorRetryInterval>${inmemdb-maven-plugin.monitorRetryInterval}</monitorRetryInterval>
							</configuration>
							<executions>
								<execution>
									<id>start-inmemdb</id>
									<phase>generate-test-sources</phase>
									<goals>
										<goal>run</goal>
									</goals>
									<configuration>
										<daemon>true</daemon>
										<sources>
											<script>
												<sourceFile>${project.build.directory}/${project.artifactId}.sql</sourceFile>
											</script>
										</sources>
									</configuration>
								</execution>
								<execution>
									<id>stop-inmemdb</id>
									<phase>prepare-package</phase>
									<goals>
										<goal>stop</goal>
									</goals>
								</execution>
							</executions>
							<dependencies>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.clientArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.networkArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.groupId}</groupId>
									<artifactId>${jdbc.serverArtifactId}</artifactId>
									<version>${jdbc.version}</version>
								</dependency>
								<dependency>
									<groupId>org.hsqldb</groupId>
									<artifactId>hsqldb</artifactId>
									<version>${org.hsqldb_hsqldb.version}</version>
								</dependency>
							</dependencies>
						</plugin>
						<plugin>
							<groupId>org.codehaus.mojo</groupId>
							<artifactId>exec-maven-plugin</artifactId>
							<executions>
								<execution>
									<phase>generate-test-resources</phase>
									<goals>
										<goal>java</goal>
									</goals>
									<configuration>
										<mainClass>liquibase.integration.commandline.Main</mainClass>
										<includePluginDependencies>true</includePluginDependencies>
										<arguments>
											<argument>--driver=${jdbc.prod.driverClassName}</argument>
											<argument>--changeLogFile=../${project.parent.artifactId}.database/src/main/resources/db/db-data-${timestamp}.changelog.xml</argument>
											<argument>--url=${jdbc.prod.url}</argument>
											<argument>--username=${jdbc.prod.username}</argument>
											<argument>--password=${jdbc.prod.password}</argument>
											<argument>--diffTypes=data</argument>
											<argument>--logLevel=info</argument>
											<argument>--defaultSchemaName=${jdbc.prod.username}</argument>
											<argument>generateChangeLog</argument>
										</arguments>
									</configuration>
								</execution>
							</executions>
							<dependencies>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.clientArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.networkArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
								<dependency>
									<groupId>${jdbc.prod.groupId}</groupId>
									<artifactId>${jdbc.prod.serverArtifactId}</artifactId>
									<version>${jdbc.prod.version}</version>
								</dependency>
								<dependency>
									<groupId>org.liquibase</groupId>
									<artifactId>liquibase-maven-plugin</artifactId>
									<version>${liquibase.version}</version>
								</dependency>
							</dependencies>
						</plugin>
					</plugins>
				</pluginManagement>
			</build>
			<properties>
				<!-- avoid generating db schema + inserting db-unit -->
				<!-- <skipTests>true</skipTests> -->
			</properties>
		</profile>

	</profiles>
	<properties>
		<build-helper-maven-plugin.version>1.9.1</build-helper-maven-plugin.version>
		<buildnumber-maven-plugin.version>1.3</buildnumber-maven-plugin.version>
		<com.googlecode.maven-download-plugin.version>1.0.0</com.googlecode.maven-download-plugin.version>
		<com.mysema.maven_apt-maven-plugin.version>1.1.3</com.mysema.maven_apt-maven-plugin.version>
		<depends-maven-plugin.version>1.2</depends-maven-plugin.version>
		<eclipselink.version>2.4.2</eclipselink.version>
		<org.ops4j.pax.exam.version>4.5.0</org.ops4j.pax.exam.version>
		<exec-maven-plugin.version>1.4.0</exec-maven-plugin.version>
		<features-maven-plugin.version>2.2.5</features-maven-plugin.version>
		<inmemdb-maven-plugin.version>1.4.3</inmemdb-maven-plugin.version>
		<inmemdb-maven-plugin.monitorRetryInterval>2000</inmemdb-maven-plugin.monitorRetryInterval>
		<inmemdb-maven-plugin.monitor-port>11527</inmemdb-maven-plugin.monitor-port>
		<jacoco.plugin.version>0.7.5.201505241946</jacoco.plugin.version>
		<jaxb2-maven-plugin.version>1.6</jaxb2-maven-plugin.version>
		<karaf.version>3.0.3</karaf.version>
		<lifecycle-mapping.version>1.0.0</lifecycle-mapping.version>
		<liquibase.version>3.1.0</liquibase.version>
		<maven-bundle-plugin.version>2.5.3</maven-bundle-plugin.version>
		<maven-clean-plugin.version>2.5</maven-clean-plugin.version>
		<maven-compiler-plugin.version>3.1</maven-compiler-plugin.version>
		<maven-eclipse-plugin.version>2.9</maven-eclipse-plugin.version>
		<maven-dependency-plugin.version>2.8</maven-dependency-plugin.version>
		<maven-failsafe-plugin.version>2.17</maven-failsafe-plugin.version>
		<maven-install-plugin.version>2.5.1</maven-install-plugin.version>
		<maven-jar-plugin.version>2.3.2</maven-jar-plugin.version>
		<maven-scala-plugin.version>2.15.2</maven-scala-plugin.version>
		<maven-shade-plugin.version>2.3</maven-shade-plugin.version>
		<maven-surefire-plugin.version>2.17</maven-surefire-plugin.version>
		<maven-war-plugin.version>2.6</maven-war-plugin.version>
		<org.apache.maven.plugins_maven-assembly-plugin.version>2.5.3</org.apache.maven.plugins_maven-assembly-plugin.version>
		<org.codehaus.plexus.version>1.5.5</org.codehaus.plexus.version>
		<org.hsqldb_hsqldb.version>2.3.2</org.hsqldb_hsqldb.version>
		<org.projectlombok.lombok.plugin.version>1.16.4.0</org.projectlombok.lombok.plugin.version>
		<org.projectlombok-pg.version>0.11.3</org.projectlombok-pg.version>
		<org.projectlombok.version>1.16.4</org.projectlombok.version>
		<org.springframework.data.commons.core.version>1.4.1.RELEASE</org.springframework.data.commons.core.version>
		<maven-pax-plugin.version>1.5</maven-pax-plugin.version>
		<selenium-maven-plugin.version>2.3</selenium-maven-plugin.version>
		<openjpa.version>2.4.0</openjpa.version>
		<project.root.build.directory>${session.executionRootDirectory}/target</project.root.build.directory>
		<wagon-maven-plugin.version>1.0-beta-5</wagon-maven-plugin.version>
		<xerces.version>2.4.0</xerces.version>
		<jacoco-coverage-skip>false</jacoco-coverage-skip>
		<osgiliath-model.compiler.level>1.7</osgiliath-model.compiler.level>
	</properties>
	<modules>
		<module>net.osgiliath.pom.dependency-management</module>
	</modules>
</project>
